# vim: ft=sh :
#
# Non-specific/common (bash & zsh) shell configuration.
#

cfg_dir="$HOME/.config"

# source all my aliases
# (The aliases in this file are for 'default behaviour' rather than
# shortcuts, e.g. ls & grep colours.)
source "$cfg_dir/shells/shell_aliases"

# prefix path with user's own bin directory, if it exists
if [ -d "$HOME/bin" ]; then
    PATH="$HOME/bin:$PATH"
fi

# initialise rbenv if present
if command -v rbenv >/dev/null 2>&1; then
    eval "$(rbenv init -)"
fi

# set a default umask I prefer more
umask 027

# turn off all console system bells (PC speaker beeps)
# (note: doesn't affect X, see ~/.xinitrc for that)
if [ $TERM = "linux" ]; then
    setterm --blength 0
fi

# set $LS_COLOURS
if [ -r "$cfg_dir/dircolors" ]; then
    # `dircolors` prints out `LS_COLORS='...'; export LS_COLORS`, so eval-ing
    # $(dircolors) effectively sets the LS_COLORS environment variable.
    # thanks [Matt](http://unix.stackexchange.com/a/94306)
    eval $(dircolors "$cfg_dir/dircolors")
fi

# enable using $LS_COLOURS in ls
alias ls="ls --color=auto"

# enable grep colors
alias grep="grep --color=auto"

# always capture subs on video screenshots
alias mplayer="mplayer -ass -vf ass,screenshot,expand=osd=1"

## man colours {{{
# use nice colours for man (by exporting termcap values for less)
export LESS_TERMCAP_mb=$'\E[01;31m'
export LESS_TERMCAP_md=$'\E[01;31m'
export LESS_TERMCAP_me=$'\E[0m'
export LESS_TERMCAP_se=$'\E[0m'
export LESS_TERMCAP_so=$'\E[01;44;33m'
export LESS_TERMCAP_ue=$'\E[0m'
export LESS_TERMCAP_us=$'\E[01;32m'
## }}}

# Vim master race
export EDITOR="vim"
