#!/usr/bin/env bash
wm="sway"
#wm="startx"
wm_args=

[[ "$1" ]] && wm="$1"

# confirm window manager exists
which "$wm" >/dev/null 2>/dev/null
if [ $? -ne 0 ]; then
    echo "error: provided window manager not found: $wm"
    exit 1
fi

## config {{{
# input
export XKB_DEFAULT_OPTIONS=caps:swapescape,compose:menu

# IBus
export GTK_IM_MODULE=ibus
export QT_IM_MODULE=ibus
export XMODIFIERS=@im=ibus
ibus-daemon -drx

# fcitx
#export GTK_IM_MODULE=fcitx
#export QT_IM_MODULE=fcitx
#export XMODIFIERS=@im=fcitx
#fcitx -d
## }}}

"$wm" $wm_args
